@inherits BunitContext

@code {
    [Fact]
    public void OutputsTextarea()
    {
        // Arrange
        var component = Render(
    @<GdsTextarea Id="more-detail"
                      Name="moreDetail"
                      DataTestId="GdsTextarea"
                      TextareaDataTestId="TextareaTestId">
        <LabelTemplate>
            <GdsLabel Classes=@LabelSize.Large
                      IsPageHeading="true">
                Can you provide more detail?
            </GdsLabel>
        </LabelTemplate>
        <HintTemplate>
            <GdsHint>
                Do not include personal or financial information, like your National Insurance number or credit card details
            </GdsHint>
        </HintTemplate>
    </GdsTextarea>
        );

        component.MarkupMatches(
    @<div diff:whitespace="Normalize" class="govuk-form-group" data-testid="GdsTextarea">
        <h1 class="govuk-label-wrapper">
            <label class="govuk-label govuk-label--l" for="more-detail">
                Can you provide more detail?
            </label>
        </h1>
        <div id="more-detail-hint" class="govuk-hint">
            Do not include personal or financial information, like your National Insurance number or credit card details
        </div>
        <textarea class="govuk-textarea" id="more-detail" name="moreDetail" 
                  rows="5" aria-describedby="more-detail-hint"
                  data-testid="TextareaTestId"></textarea>
    </div>
        );
    }

    [Fact]
    public void OutputsTextareaWithSetRows()
    {
        // Arrange
        var component = Render(
    @<GdsTextarea Id="more-detail"
                      Name="moreDetail"
                      Rows="8">
        <LabelTemplate>
            <GdsLabel Classes=@LabelSize.Large
                      IsPageHeading="true">
                Can you provide more detail?
            </GdsLabel>
        </LabelTemplate>
        <HintTemplate>
            <GdsHint>
                Do not include personal or financial information,
                like your National Insurance number or credit card
                details
            </GdsHint>
        </HintTemplate>
    </GdsTextarea>
        );

        component.MarkupMatches(
    @<div class="govuk-form-group">
        <h1 class="govuk-label-wrapper">
            <label class="govuk-label govuk-label--l" for="more-detail">
                Can you provide more detail?
            </label>
        </h1>
        <div id="more-detail-hint" class="govuk-hint">
            Do not include personal or financial information, like your National Insurance number or credit card details
        </div>
        <textarea class="govuk-textarea" id="more-detail" name="moreDetail" rows="8" aria-describedby="more-detail-hint"></textarea>
    </div>
        );
    }

    [Fact]
    public void OutputsTextareaWithNoHeading()
    {
        // Arrange
        var component = Render(
    @<GdsTextarea Id="more-detail"
                      Name="moreDetail">
        <LabelTemplate>
            <GdsLabel>
                Can you provide more detail?
            </GdsLabel>
        </LabelTemplate>
    </GdsTextarea>
        );

        component.MarkupMatches(
    @<div class="govuk-form-group">
        <label class="govuk-label" for="more-detail">
            Can you provide more detail?
        </label>
        <textarea class="govuk-textarea" id="more-detail" name="moreDetail" rows="5"></textarea>
    </div>
        );
    }

    [Fact]
    public void OutputsTextareaWithErrorMessage()
    {
        // Arrange
        var component = Render(
    @<GdsTextarea Id="more-detail"
                      Name="moreDetail">
        <LabelTemplate>
            <GdsLabel Classes="@LabelSize.Large"
                      IsPageHeading="true">
                Can you provide more detail?
            </GdsLabel>
        </LabelTemplate>
        <HintTemplate>
            <GdsHint>
                Do not include personal or financial information,
                like your National Insurance number or credit card
                details
            </GdsHint>
        </HintTemplate>
        <ErrorMessageTemplate>
            <GdsErrorMessage>Enter more detail</GdsErrorMessage>
        </ErrorMessageTemplate>
    </GdsTextarea>
        );

        component.MarkupMatches(
    @<div class="govuk-form-group govuk-form-group--error">
        <h1 class="govuk-label-wrapper">
            <label class="govuk-label govuk-label--l" for="more-detail">
                Can you provide more detail?
            </label>
        </h1>
        <div id="more-detail-hint" class="govuk-hint">
            Do not include personal or financial information, like your National Insurance number or credit card details
        </div>
        <p id="more-detail-error" class="govuk-error-message">
            <span class="govuk-visually-hidden">Error:</span> Enter more detail
        </p>
        <textarea class="govuk-textarea govuk-textarea--error" id="more-detail" name="moreDetail" rows="5" aria-describedby="more-detail-hint more-detail-error"></textarea>
    </div>
        );
    }
}
